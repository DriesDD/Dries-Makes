{% extends "layout.html" %}

{% block content %}
{% raw %}

<p>I want to explain how I made this website. As a starting web developer, I can’t write from years of experience but I have the advantage of knowing where other starters may struggle. It also seemed like a fitting first article to write here, since it’s about the website you’re looking at right now.</p>
<h2  id="the-challenge">The challenge</h2>
<p>The easiest way to make your own website would probably be to use a template from SquareSpace or WordPress or something similar. For most people this is probably the best option. But I’m assuming you are not most people, you are an aspiring web developer. You’re a nerd about staying in control of all the layout and scripts on your site, so you want to code it yourself.</p>
<p>Now, the easiest way to make your own website would go something like this:</p>
<ul>
<li>Start from a HTML boilerplate to give some structure to your HTML document.</li>
<li>Keep CSS styling minimal and generic, by using a classless CSS microframework like water.css or sakura. You can download the framework to customize it if needed.</li>
<li>Put the code on Github or Gitlab.</li>
<li>Once the site works locally, use Github Pages, Gitlab pages or Netlify to host it.</li>
</ul>
<p>Nice! You made a static site. The reason I did not go this route was because I have some more requirements:</p>
<ul>
<li>I don’t want to have to copy the code that’s the same on every page. In other words: I need a content management system that automatically updates all pages if I want to change the header or other generic elements on my site.</li>
<li>I don’t want a static site. I want the site to run on a server, so I can run code on the server, I could play around with the fun stuff like web sockets, databases, and running secure server-side code. Most of that is not relevant right now but the groundwork needs to be there.</li>
<li>I want to host the site on my own domain (www.dries.page).</li>
<li>I want to customize the style of the site.</li>
</ul>
<p>Alright, now this is more of a challenge.</p>
<h2  id="flask">Flask</h2>
<p>To satisfy our first two requirements of having a site that reuses code and is dynamic, we will need a framework. Laravel, Symfony, Ruby on Rails, Spring Boot, Django… The best web framework depends on the programming language you like and the complexity of your site. Most frameworks use a Model View Controller (MVC) structure, and are modular enough that differences will only matter if your project gets large or very specific.</p>
<p>Most frameworks also come with a bunch of premade folders and files which seem overengineered for simple websites. They’re not that complex once you are used to them, but since I wanted to use the minimal needed complexity, I chose a Python ‘microframework’ called Flask. It allows me to get a site going with one small python file, and add all the HTML elements in a folder called ‘templates’.</p>
<p>The folder structure could look something like this:</p>
<pre>├── build.py
└── templates
    ├── articles
    │   ├── article1.html
    │   └── home.html
    └── layout.html</pre>
<p>Layout.html is the layout of any page on your site, with the article inserted in between block markers: <code>{% block content %}{% endblock %}</code>.</p>
<p>The pages then each need to ‘extend’ the layout using <code>{% extends 'layout.html' %}</code> and wrap all the contents in a <code>{% block content %} content {% endblock %}</code>.</p>
<p>The code of build.py would look something like this:</p>
<pre>#Import flask and the functions to redirect and render pages from flask
import Flask, redirect, render_template
#name of our appThat was the final piece of the puzzle. If you read this far, thank you! I hope this article can be useful to my fellow junior devs.

Dries out!t strictly required but it’s useful to avoid issues related to having a different python version locally and on the server.</li><li>requirementts.txt. This is a file which you may see in any python project, it lists the requiremed modules and their version. </ul>
    
    <p>For our project, the dependencies are:</p> <pre>Flask&gt;=0.11.0
Jinja2&gt;=2.7
Werkzeug&gt;=0.9.1
waitress&gt;=1.4.4
gunicorn&gt;=19.6.0</pre></p>
<p>In case you are wondering, Werkzeug is a library that Flask uses, while Jinja2 is the templating language. Our project structure now looks like this:</p>
<pre>├── build.py
├── buildlocal.py
├── PROCFILE
├── run.gunicorn.sh
├── runtime.txt
├── requirements.txt
├── templates
│   ├── articles
│   │   ├── article1.html
│   │   └── home.html
│   └── layout.html
└── static</pre>

<p>The static folder contains all CSS, javascript, images and other static resources.</p>
<p>With the site hosted as a Heroku app, I still had to connect it to my personal domain. This requires verifying your Heroku account with a visa or mastercard, but it’s free. Then, I had some security issues - adding a security certificate to Heroku is not free, and my own domain didn’t trust the Heroku site so the user was greeted with a notification that the site is untrusted. Fortunately, I found out how to set it up right in the Advanced DNS settings:</p>
</br>
<img src='../../static/img/DNS.png' alt='Screenshot of the DNS configuration showing a redirect URL to dries.herokuapp.com'/>
</br>
<p>Makes sense if you see it like that, but in my mind a redirect from my domain to the heroku domain would make the user see heroku in the address bar. Not the case! We have added our personal domain in Heroku, and so Heroku will serve to our domain, using the security certificate from our own domain. No extra certificate on Heroku needed.</p>
<p>That was the final piece of the puzzle. If you read this far, thank you! I hope this article can be useful to my fellow junior devs.</p>
<p>Dries out!</p>

{% endraw %}
{% endblock %}